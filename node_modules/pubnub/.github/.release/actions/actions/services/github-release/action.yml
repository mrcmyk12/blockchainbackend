---
name: Create GitHub Release
description: Create GitHub Release and upload any artifacts to it.
author: PubNub
inputs:
  token:
    description: GitHub access token which has permissions to create releases.
    required: false
  github-token:
    description: GitHub access token which has push permissions.
    required: false
    default: ${{ github.token }}
  artifacts-folder:
    description: Relative path to folder where files for upload to GitHub Release will be stored.
    required: false
  command:
    description: Command which can be called for GitHub Release artifacts preparation.
    required: false
  jira-api-key:
    description: API key to access JIRA REST API.
    required: false
  last-service:
    description: Whether this is last service used in product deployment services sequence
    required: false
    default: "false"
runs:
  using: node12
  main: ../../../dist/services/github/release.js
  post-if: failure()
  post: ../../../dist/services/helpers/service-failure.js
