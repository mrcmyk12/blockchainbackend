---
name: publish-to-pub-dev
description: Publish package to pud.dev.
author: PubNub
inputs:
  token:
    description: GitHub access token which has permissions to manage repository action secrets.
    required: true
  github-token:
    description: GitHub access token which has push permissions.
    required: false
    default: ${{ github.token }}
  pub-token-endpoint:
    description: Endpoint which should be used with provided token.
    required: true
  pub-access-token:
    description: Token with permissions manage target library.
    required: true
  pub-refresh-token:
    description: Whether ownership should be verified before publish.
    required: true
  pub-token-expiration:
    description: Access token expiration date.
    required: true
  pub-spec-path:
    description: Pubspec file path.
    required: false
  flutter-version:
    description: The Flutter version to make available on the path.
    required: false
  flutter-channel:
    description: The Flutter build release channel.
    required: false
  jira-api-key:
    description: API key to access JIRA REST API.
    required: false
  last-service:
    description: Whether this is last service used in product deployment services sequence
    required: false
    default: "false"
runs:
  using: node12
  main: ../../../dist/services/pub/index.js
  post-if: failure()
  post: ../../../dist/services/helpers/service-failure.js
