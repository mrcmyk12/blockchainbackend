---
name: Publish to Packagist
description: Publish package to Packagist repository.
author: PubNub
inputs:
  token:
    description: GitHub access token with extended permissions.
    required: false
  github-token:
    description: GitHub access token which has push permissions.
    required: false
    default: ${{ github.token }}
  packagist-username:
    description: Package maintainer username on packagist.org.
    required: true
  packagist-token:
    description: Maintainer's API token.
    required: true
  jira-api-key:
    description: API key to access JIRA REST API.
    required: false
  last-service:
    description: Whether this is last service used in product deployment services sequence
    required: false
    default: "false"
runs:
  using: node12
  main: ../../../dist/services/composer/index.js
  post-if: failure()
  post: ../../../dist/services/helpers/service-failure.js
