---
name: Upload to S3
description: Setup environment which will let upload files to Amazon s3.
author: PubNub
inputs:
  token:
    description: GitHub access token with extended permissions.
    required: false
  github-token:
    description: GitHub access token which has push permissions.
    required: false
    default: ${{ github.token }}
  aws-access-key-id:
    description: Id of key which has permissions for upload to s3.
    required: true
  aws-secret-access-key:
    description: Specified access key secret.
    required: true
  local-path:
    description: List of files (glob) which should be uploaded to s3.
    required: true
  remote-path:
    description: s3 bucket path for uploaded files.
    required: true
  content-type:
    description: Uploaded files content type.
    required: false
  content-encoding:
    description: Content encoding applied on uploaded files.
    required: false
  acl:
    description: Content access control list.
    required: true
  jira-api-key:
    description: API key to access JIRA REST API.
    required: false
  last-service:
    description: Whether this is last service used in product deployment services sequence
    required: false
    default: "false"
runs:
  using: node12
  main: ../../../dist/services/aws/s3.js
  post-if: failure()
  post: ../../../dist/services/helpers/service-failure.js
