---
name: Publish to GitHub Pages
description: Pushes content generated during deployment process to GitHub Pages site.
author: PubNub
inputs:
  token:
    description: GitHub access token which has permissions to manage repository pages.
    required: false
  github-token:
    description: GitHub access token which has push permissions.
    required: false
    default: ${{ github.token }}
  branch:
    description: Branch which will be used for GitHub Pages site content.
    required: false
    default: "gh-pages"
  source-folder:
    description: Relative path to folder, which has content for GitHub Pages site.
    required: true
  pages-folder:
    description: "Path to directory with content which should be pushed to GitHub Page site. Can be one of: '/' or '/docs'"
    required: false
    default: "/"
  setup-pages:
    description: "Whether GitHub Action should configure Pages (if not set). For this will be required 'token'."
    required: false
    default: "true"
  command:
    description: Command which can be called for GitHub Pages site content generation.
    required: false
  jira-api-key:
    description: API key to access JIRA REST API.
    required: false
  last-service:
    description: Whether this is last service used in product deployment services sequence
    required: false
    default: "false"
runs:
  using: node12
  main: ../../../dist/services/github/pages.js
  post-if: failure()
  post: ../../../dist/services/helpers/service-failure.js
